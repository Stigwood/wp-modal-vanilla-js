function openModalWindow(){console.log("Open!")}!function(){document.addEventListener("DOMContentLoaded",function(){function e(){var e=document.getElementById("inner-overlay-t1e2e");e.parentNode.removeChild(e),document.body.style.removeProperty("overflow"),n.style.opacity="0",n.style.pointerEvents="none"}var t="wp-caption",o=document.getElementsByClassName(t);if(o[0]){var n=document.createElement("div"),i=document.getElementsByTagName("body")[0];i.insertBefore(n,i.firstChild),n.setAttribute("id","modal-overlay-t1e2e");var r="#modal-overlay-t1e2e { position: fixed; top: 0; right: 0; bottom: 0; left: 0; background: rgba( 255, 255, 255, .5 ); background-size: 20%; z-index: 100; opacity: 0; -webkit-transition: opacity 400ms ease-in; -moz-transition: opacity 400ms ease-in; transition: opacity 400ms ease-in; pointer-events: none; overflow: scroll; }   #inner-overlay-t1e2e  {position: relative;  margin: 5% auto; cursor: pointer; border: .7rem solid #ddd; background: #444; color: #ddd;} .close-div-t1e2e {background: #ddd; color: #444; cursor: pointer; padding:.7rem; position: absolute; top: -.5rem; right: -.5rem; font-family: Helvetica, sans-serif;} #spinner8329 {position: relative; margin: 10% auto; width: 150px;height: 150px; -webkit-animation: bob8329 1s infinite linear; -moz-animation: bob8329 1s infinite linear; -o-animation: bob8329 1s infinite linear; animation: bob8329 1s infinite linear; border-radius:75px; border-bottom:5px solid #666;} @-webkit-keyframes bob8329 { to { -webkit-transform: rotate(360deg); } } @-moz-keyframes bob8329 { to { -moz-transform: rotate(360deg); } } @-o-keyframes bob8329 { to { -o-transform: rotate(360deg); } } @keyframes bob8329 { to { transform: rotate(360deg); } }",a=document.createElement("style");a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),document.getElementsByTagName("head")[0].appendChild(a);for(var l=0;l<o.length;l++){var d=o[l].getElementsByTagName("a")[0].getAttribute("href");if(!d)return void console.log("no link within wp-caption");console.log("link extant"),o[l].getElementsByTagName("a")[0].removeAttribute("href"),o[l].getElementsByTagName("a")[0].setAttribute("onclick","openModalWindow (); return false;"),o[l].setAttribute("modalImage",d),o[l].style.cursor="pointer",o[l].onclick=function(){n.style.opacity="1",n.style.pointerEvents="auto",document.body.style.overflow="hidden";var t=document.createElement("div");t.setAttribute("id","spinner8329"),n.appendChild(t);var o=document.createElement("div");o.setAttribute("id","inner-overlay-t1e2e");var i=document.createElement("img");i.src=this.getAttribute("modalImage"),i.style.visibility="hidden";var r=document.createElement("div");r.setAttribute("class","close-div-t1e2e"),o.onmouseover=function(){r.getElementsByTagName("a")[0].style.color="white"},o.onmouseout=function(){r.getElementsByTagName("a")[0].style.color="#444"},i.onload=function(){n.removeChild(t);var e=this.naturalWidth,a=.95*window.innerWidth;console.log(a+"-"+e),e>a?(o.style.maxWidth=.95*a+"px",console.log(a+"px")):o.style.maxWidth=e+"px",r.innerHTML='<a onclick = "openModalWindow (); return false"><b>X</b></a>',i.style.visibility="visible",n.appendChild(o),o.appendChild(i),o.appendChild(r)},i.onclick=e,r.onclick=e,document.addEventListener("keyup",function(t){if(27==t.keyCode){if(!document.getElementById("inner-overlay-t1e2e"))return;e(),console.log("ESC")}})}}}})}();